[{"/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/index.js":"1","/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/App.js":"2","/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/components/Togglable.js":"3","/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/components/BlogList.js":"4","/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/components/ValidMessage.js":"5","/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/components/ErrorMessage.js":"6","/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/components/CreateForm.js":"7","/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/components/LoginForm.js":"8","/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/services/blogs.js":"9","/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/services/login.js":"10","/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/components/Blog.js":"11","/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/store.js":"12","/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/reducers/blogsReducer.js":"13","/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/reducers/errorReducer.js":"14","/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/reducers/validReducer.js":"15","/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/reducers/userReducer.js":"16"},{"size":302,"mtime":1649960374913,"results":"17","hashOfConfig":"18"},{"size":3444,"mtime":1650013989653,"results":"19","hashOfConfig":"18"},{"size":907,"mtime":1649957692447,"results":"20","hashOfConfig":"18"},{"size":961,"mtime":1649972325179,"results":"21","hashOfConfig":"18"},{"size":298,"mtime":1649971705916,"results":"22","hashOfConfig":"18"},{"size":298,"mtime":1649971697950,"results":"23","hashOfConfig":"18"},{"size":1851,"mtime":1649957692447,"results":"24","hashOfConfig":"18"},{"size":1088,"mtime":1650013694360,"results":"25","hashOfConfig":"18"},{"size":810,"mtime":1649957692448,"results":"26","hashOfConfig":"18"},{"size":203,"mtime":1649957692448,"results":"27","hashOfConfig":"18"},{"size":1565,"mtime":1649957692446,"results":"28","hashOfConfig":"18"},{"size":500,"mtime":1650012759969,"results":"29","hashOfConfig":"18"},{"size":616,"mtime":1649972261885,"results":"30","hashOfConfig":"18"},{"size":589,"mtime":1649971636427,"results":"31","hashOfConfig":"18"},{"size":588,"mtime":1649971749739,"results":"32","hashOfConfig":"18"},{"size":309,"mtime":1650013948363,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"3nz1cx",{"filePath":"37","messages":"38","suppressedMessages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40"},{"filePath":"41","messages":"42","suppressedMessages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"51"},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"51"},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"51"},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"51"},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},"/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/index.js",[],[],"/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/App.js",["86"],[],"import { useState, useEffect, useRef } from 'react'\nimport LoginForm from './components/LoginForm'\nimport ErrorMessage from './components/ErrorMessage'\nimport ValidMessage from './components/ValidMessage'\nimport CreateForm from './components/CreateForm'\nimport loginService from './services/login'\n\nimport blogService from './services/blogs'\nimport './index.css'\nimport BlogList from './components/BlogList'\nimport Togglable from './components/Togglable'\n\n// Redux implementation\nimport { useDispatch, useSelector } from 'react-redux'\nimport { addBlog, initializeBlogs } from './reducers/blogsReducer'\nimport { timedError } from './reducers/errorReducer'\nimport { timedValid } from './reducers/validReducer'\nimport { setTheUser } from './reducers/userReducer'\n\nconst App = () => {\n  const dispatch = useDispatch()\n\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const blogFormRef = useRef()\n\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      dispatch(setTheUser(user))\n    }\n  }, [])\n\n  useEffect(() => {\n    dispatch(initializeBlogs())\n  }, [dispatch])\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    try {\n      const user = await loginService.login({\n        username, password\n      })\n      window.localStorage.setItem(\n        'loggedBlogappUser', JSON.stringify(user)\n      )\n      console.log(user);\n      blogService.setToken(user.token)\n      dispatch(setTheUser(user))\n      setUsername('')\n      setPassword('')\n\n    } catch (exception) {\n      dispatch(timedError('Wrong Credentials'))\n      setUsername('')\n      setPassword('')\n    }\n    // add a dispatch to clear the state\n  }\n\n  const clearLocStor = (event) => {\n    event.preventDefault()\n    window.localStorage.clear()\n    dispatch(setTheUser(null))\n  }\n\n  const createBlog = async (blogObject) => {\n    const response = await blogService.createBlogEntry(blogObject)\n    dispatch(addBlog(response))\n    dispatch(timedValid(`A new blog ${blogObject.title} ${blogObject.author} added`))\n    dispatch(initializeBlogs())\n    blogFormRef.current.toggleVisibility()\n  }\n\n  const updateBlogLikes = async (blogPost, id) => {\n    await blogService.updateLike(blogPost, id)\n    dispatch(initializeBlogs())\n  }\n\n  const deleteBlogPost = async (id, user) => {\n    await blogService.deleteBlog({\n      id: id,\n      user: user\n    })\n    dispatch(initializeBlogs())\n    dispatch(timedValid('The blog entry has been deleted'))\n  }\n\n  const user = useSelector(state => state.user)\n\n  return (\n    <div>\n      <ErrorMessage/>\n      {user === null\n        ? <LoginForm\n          handleLogin={handleLogin}\n          username={username}\n          setUsername={setUsername}\n          password={password}\n          setPassword={setPassword}\n        />\n        : <div>\n          <ValidMessage/>\n          <div>\n            <p>{user.name} logged in</p>\n            <button onClick={clearLocStor}>log out</button>\n          </div>\n          <Togglable buttonLabel='Create new blog' ref={blogFormRef}>\n            <h2>create new</h2>\n            <CreateForm createBlog={createBlog} user={user}/>\n          </Togglable>\n          <h2>blogs</h2>\n          <BlogList updateLike={updateBlogLikes} user={user} deleteBlogPost={deleteBlogPost}/>\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default App\n","/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/components/Togglable.js",[],[],"/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/components/BlogList.js",[],[],["87","88"],"/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/components/ValidMessage.js",[],[],["89","90"],"/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/components/ErrorMessage.js",[],[],"/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/components/CreateForm.js",[],[],"/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/components/LoginForm.js",[],[],["91","92"],"/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/services/blogs.js",["93"],[],"/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/services/login.js",["94"],[],"/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/components/Blog.js",[],[],"/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/store.js",[],[],"/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/reducers/blogsReducer.js",[],[],"/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/reducers/errorReducer.js",[],[],"/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/reducers/validReducer.js",[],[],"/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/reducers/userReducer.js",[],[],{"ruleId":"95","severity":1,"message":"96","line":34,"column":6,"nodeType":"97","endLine":34,"endColumn":8,"suggestions":"98"},{"ruleId":"99","replacedBy":"100"},{"ruleId":"101","replacedBy":"102"},{"ruleId":"99","replacedBy":"103"},{"ruleId":"101","replacedBy":"104"},{"ruleId":"99","replacedBy":"105"},{"ruleId":"101","replacedBy":"106"},{"ruleId":"107","severity":1,"message":"108","line":34,"column":1,"nodeType":"109","endLine":34,"endColumn":77},{"ruleId":"107","severity":1,"message":"108","line":9,"column":1,"nodeType":"109","endLine":9,"endColumn":25},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["110"],"no-native-reassign",["111"],"no-negated-in-lhs",["112"],["111"],["112"],["111"],["112"],"import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration",{"desc":"113","fix":"114"},"no-global-assign","no-unsafe-negation","Update the dependencies array to be: [dispatch]",{"range":"115","text":"116"},[1154,1156],"[dispatch]"]