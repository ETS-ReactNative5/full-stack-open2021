{"ast":null,"code":"import _asyncToGenerator from\"/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{useRef}from'react';import{useDispatch,useSelector}from'react-redux';// SERVICES\nimport blogService from'../services/blogs';// REDUCERS\nimport{addBlog,initializeBlogs}from'../reducers/blogsReducer';import{timedValid}from'../reducers/validReducer';// COMPONENTS\nimport BlogList from'./BlogList';import CreateForm from'./CreateForm';import Togglable from'./Togglable';import ValidMessage from'./ValidMessage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Blogs=function Blogs(){var blogFormRef=useRef();var dispatch=useDispatch();var user=useSelector(function(state){return state.user;});if(!user){return null;}// BLOG FUNCTIONALITIES\nvar createBlog=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(blogObject){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return blogService.createBlogEntry(blogObject);case 2:response=_context.sent;dispatch(addBlog(response));dispatch(timedValid(\"A new blog \".concat(blogObject.title,\" \").concat(blogObject.author,\" added\")));dispatch(initializeBlogs());blogFormRef.current.toggleVisibility();case 7:case\"end\":return _context.stop();}}},_callee);}));return function createBlog(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto text-slate-700 dark:bg-slate-900\",children:[/*#__PURE__*/_jsx(ValidMessage,{}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl text-slate-700 dark:text-slate-200\",children:\"Blogs\"}),/*#__PURE__*/_jsxs(Togglable,{buttonLabel:\"Create new blog\",ref:blogFormRef,children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-slate-700 dark:text-slate-200\",children:\"Create New Entry\"}),/*#__PURE__*/_jsx(CreateForm,{createBlog:createBlog,user:user})]}),/*#__PURE__*/_jsx(BlogList,{})]});};export default Blogs;","map":{"version":3,"sources":["/Users/federico/CS Projects/full-stack-open2021/part5/blog-frontend/src/components/Home.js"],"names":["React","useRef","useDispatch","useSelector","blogService","addBlog","initializeBlogs","timedValid","BlogList","CreateForm","Togglable","ValidMessage","Blogs","blogFormRef","dispatch","user","state","createBlog","blogObject","createBlogEntry","response","title","author","current","toggleVisibility"],"mappings":"qTAAA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,KAA8B,OAA9B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CAEA;AACA,MAAOC,CAAAA,WAAP,KAAwB,mBAAxB,CAEA;AACA,OAASC,OAAT,CAAkBC,eAAlB,KAAyC,0BAAzC,CACA,OAASC,UAAT,KAA2B,0BAA3B,CAEA;AACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,C,wFAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAClB,GAAMC,CAAAA,WAAW,CAAGZ,MAAM,EAA1B,CACA,GAAMa,CAAAA,QAAQ,CAAGZ,WAAW,EAA5B,CACA,GAAMa,CAAAA,IAAI,CAAGZ,WAAW,CAAC,SAAAa,KAAK,QAAIA,CAAAA,KAAK,CAACD,IAAV,EAAN,CAAxB,CAEA,GAAI,CAACA,IAAL,CAAW,CACT,MAAO,KAAP,CACD,CAED;AAEA,GAAME,CAAAA,UAAU,0FAAG,iBAAOC,UAAP,qJACMd,CAAAA,WAAW,CAACe,eAAZ,CAA4BD,UAA5B,CADN,QACXE,QADW,eAEjBN,QAAQ,CAACT,OAAO,CAACe,QAAD,CAAR,CAAR,CACAN,QAAQ,CAACP,UAAU,sBAAeW,UAAU,CAACG,KAA1B,aAAmCH,UAAU,CAACI,MAA9C,WAAX,CAAR,CACAR,QAAQ,CAACR,eAAe,EAAhB,CAAR,CACAO,WAAW,CAACU,OAAZ,CAAoBC,gBAApB,GALiB,sDAAH,kBAAVP,CAAAA,UAAU,4CAAhB,CAQA,mBACI,aAAK,SAAS,CAAC,oDAAf,wBACI,KAAC,YAAD,IADJ,cAEI,WAAI,SAAS,CAAC,6CAAd,mBAFJ,cAKI,MAAC,SAAD,EAAW,WAAW,CAAC,iBAAvB,CAAyC,GAAG,CAAEJ,WAA9C,wBACE,WAAI,SAAS,CAAC,oCAAd,8BADF,cAEE,KAAC,UAAD,EAAY,UAAU,CAAEI,UAAxB,CAAoC,IAAI,CAAEF,IAA1C,EAFF,GALJ,cAUI,KAAC,QAAD,IAVJ,GADJ,CAcD,CAjCD,CAmCA,cAAeH,CAAAA,KAAf","sourcesContent":["import React, { useRef } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\n// SERVICES\nimport blogService from '../services/blogs'\n\n// REDUCERS\nimport { addBlog, initializeBlogs } from '../reducers/blogsReducer'\nimport { timedValid } from '../reducers/validReducer'\n\n// COMPONENTS\nimport BlogList from './BlogList'\nimport CreateForm from './CreateForm'\nimport Togglable from './Togglable'\nimport ValidMessage from './ValidMessage'\n\nconst Blogs = () => {\n  const blogFormRef = useRef()\n  const dispatch = useDispatch()\n  const user = useSelector(state => state.user)\n\n  if (!user) {\n    return null\n  }\n\n  // BLOG FUNCTIONALITIES\n\n  const createBlog = async (blogObject) => {\n    const response = await blogService.createBlogEntry(blogObject)\n    dispatch(addBlog(response))\n    dispatch(timedValid(`A new blog ${blogObject.title} ${blogObject.author} added`))\n    dispatch(initializeBlogs())\n    blogFormRef.current.toggleVisibility()\n  }\n\n  return (\n      <div className='container mx-auto text-slate-700 dark:bg-slate-900'>\n          <ValidMessage/>\n          <h2 className='text-3xl text-slate-700 dark:text-slate-200'>\n            Blogs\n          </h2>\n          <Togglable buttonLabel='Create new blog' ref={blogFormRef}>\n            <h2 className='text-slate-700 dark:text-slate-200'>Create New Entry</h2>\n            <CreateForm createBlog={createBlog} user={user}/>\n          </Togglable>\n          \n          <BlogList />\n      </div>\n  )\n}\n\nexport default Blogs"]},"metadata":{},"sourceType":"module"}